# gp2y0e03

# GP2Y0E03 測距センサー 40 mm - 0.1 m

## 概要

I2C 接続の赤外線測距センサー（センサーから障害物までの距離を測るセンサー）の値を表示します。（このセンサーは Grove ケーブル経由で接続します）

## 使用パーツ

- [シャープ測距モジュール GP2Y0E03（I2C＆アナログ出力）](http://akizukidenshi.com/catalog/g/gI-07547/) x 1 (※製品パッケージに付属の細いケーブルをブレッドボードに刺せるようにするため、ピンヘッダをハンダ付けするか QI コネクタを圧着する等の加工が必要です)
- ジャンパー（オス・メス）ケーブル x 4
- ジャンパー（オス・オス）ケーブル x 2
- ブレッドボード x 1

## 配線図

![配線図](./images/gp2y0e03/schematic.png 'schematic')

## サンプルコード (main.js)

```javascript
const { requestI2CAccess } = require('node-web-i2c');
const GP2Y0E03 = require('@chirimen/gp2y0e03');
const { promisify } = require('util');
const sleep = promisify(setTimeout);

main();

async function main() {
  try {
    const i2cAccess = await requestI2CAccess();
    const port = i2cAccess.ports.get(1);
    const sensor_unit = new GP2Y0E03(port, 0x40);
    await sensor_unit.init();

    while (1) {
      try {
        const distance = await sensor_unit.read();
        if (distance != null) {
          console.log('Distance:' + distance + 'cm');
        } else {
          console.log('out of range');
        }
      } catch (err) {
        console.error('READ ERROR:' + err);
      }
      await sleep(500);
    }
  } catch (err) {
    console.error('GP2Y0E03 init error');
  }
}
```

---

[← 目次に戻る](./index.md)
